import{jsx as f,jsxs as W}from"https://esm.sh/react/jsx-runtime";import{createRoot as ut}from"https://esm.sh/react-dom/client";import A,{useEffect as ht,useRef as Tt,useState as _t}from"https://esm.sh/react";import{unstableSetRender as Ct,theme as Ot,Input as Ut,Typography as j,notification as Rt,Flex as T,ConfigProvider as Dt,Tooltip as it,Radio as B,Checkbox as ct,Table as zt,Spin as Et,Tag as N,Button as H,Alert as Mt}from"https://esm.sh/antd?standalone";import{GithubOutlined as At,YoutubeOutlined as Bt,TwitterOutlined as Nt,SunOutlined as Ht,MoonOutlined as qt,DownloadOutlined as G}from"https://esm.sh/@ant-design/icons?standalone";import Jt from"https://esm.sh/fuse.js?standalone";import{File as E,decode as D,guess as z,encode as X,Fmt as Y}from"https://esm.sh/@easy-install/easy-archive?standalone";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();const Kt="ttf,otf,woff,woff2,eot".split(",");function Zt(t,n){if(!t?.length)return!1;for(const e of n){if(e.length===0)return!t.includes(".");if(t.endsWith(`.${e}`))return!0}return!1}function Q(t,n=Kt){return Zt(t.toLocaleLowerCase(),n)}function Gt(t){try{const n=new URL(t);if(n.hostname!=="github.com")return;const e=n.pathname.split("/").filter(Boolean);return e.length<2?void 0:{user:e[0],repo:e[1]}}catch{return}}function Xt(t,n,e){const c=new TextDecoder("utf-8"),r=c.decode(t),o="#".repeat(4),s=[o,e.name,o].join(" ");if(r.includes(s))return t;const a=c.decode(n).trim(),h=[r,"",s,a,s,""].join(`
`).trimStart();return new TextEncoder().encode(h)}function ot(t){if(t.length===0)return 0;if(t.length===1)return t[0].length;let n=0;const e=t[0];for(let c=0;c<e.length;c++){const r=e[c];if(t.every(o=>o[c]===r))n++;else break}return n}function lt(t,n,e,c="portable_config"){for(const s of["fonts","script-opts","shaders"])if(n.find(a=>a.path.startsWith(`${s}/`))){const a=n.filter(h=>h.path.startsWith(`${s}/`));n=n.filter(h=>!h.path.startsWith(`${s}/`));for(const h of a)h.path=`${c}/${s}/${h.path.replace(`${s}/`,"")}`,t.push(h)}if(n.find(s=>s.path.startsWith("scripts/"))){const s=n.filter(p=>p.path.startsWith("scripts/"));n=n.filter(p=>!p.path.startsWith("scripts/"));const a=s.map(p=>p.path.split("/")).map(p=>p.slice(1,p.length-1)),h=ot(a),v=`${(h?["scripts",...a[0].slice(0,h)]:["scripts"]).join("/")}/`,u=s.filter(p=>!p.path.replace(v,"").includes("/")&&p.path.endsWith(".lua")),w=s.filter(p=>!p.path.replace(v,"").includes("/")&&p.path.endsWith(".js"));u.length===1?u[0].path=`${e.scriptName||e.name}/main.lua`:w.length===1&&(w[0].path=`${e.scriptName||e.name}/main.js`);for(const p of s){const $=p.path.replace(v,`${e.scriptName||e.name}/`);p.path=`${c}/scripts/${$}`,t.push(p)}}if(n.find(s=>s.path.startsWith("externals/"))){const s=n.filter(a=>a.path.startsWith("externals/"));n=n.filter(a=>!a.path.startsWith("externals/"));for(const a of s)a.path=a.path.replace("externals/",""),t.push(a)}for(const s of["input.conf","mpv.conf"]){const a=n.findIndex(I=>I.path===s);if(a===-1)continue;const h=n.splice(a,1)[0],m=t.findIndex(I=>I.path===`${c}/${s}`);let v;m===-1?v=new E(`${c}/${s}`,new Uint8Array,void 0,!1,BigInt(Date.now())):v=t.splice(m,1)[0];const{path:u,mode:w,isDir:p,lastModified:$,buffer:g}=v,k=Xt(g,h.buffer,e);t.push(new E(u,k,w,p,$))}if(n.find(s=>!s.path.includes("/")&&s.path.endsWith(".conf"))){const s=n.filter(a=>!a.path.includes("/")&&a.path.endsWith(".conf"));n=n.filter(a=>!(!a.path.includes("/")&&a.path.endsWith(".conf")));for(const a of s){const h=n.find(u=>u.path===a.path.replace(".conf",".js")),m=n.find(u=>u.path===a.path.replace(".conf",".lua")),v=h||m?`${c}/script-opts/${a.path}`:a.path;a.path=v,t.push(a)}}if(n.find(s=>!s.path.includes("/")&&Q(s.path))){const s=n.filter(a=>!a.path.includes("/")&&Q(a.path));n=n.filter(a=>!(!a.path.includes("/")&&Q(a.path)));for(const a of s)a.path=`${c}/fonts/${a.path}`,t.push(a)}const r=n.filter(s=>!s.path.includes("/")&&s.path.endsWith(".lua")),o=n.filter(s=>!s.path.includes("/")&&s.path.endsWith(".js"));r.length===1?r[0].path="main.lua":o.length===1&&(o[0].path="main.js");for(const s of n)s.path=`${c}/scripts/${e.scriptName||e.name}/${s.path}`,t.push(s)}const Yt=[["thumbfast","mpv-easy-thumbfast"],["autoload","mpv-easy-autoload"],["uosc","mpv-easy","ModernX cyl0","ModernZ","mpv.net"]],dt={uosc:["autoload","mpv-easy-autoload"],"mpv-easy":["mpv-easy-anime4k","mpv-easy-clipboard-play","mpv-easy-copy-time","mpv-easy-cut","mpv-easy-translate","mpv-easy-autoload","mpv-easy-copy-screen","mpv-easy-crop","mpv-easy-thumbfast"]};function Qt(t,n=Yt){for(const r of n){const o=[];for(const s of t)r.includes(s)&&o.push(s);if(o.length>1)return o}const e=new Set,c=new Set(t);for(const r in t){const o=dt[r]||[];for(const s of o)c.has(s)&&(e.add(r),e.add(s))}return Array.from(e)}function V(t){const n=[".ttf",".otf",".woff",".woff2",".eot"],e=t.toLowerCase();return n.some(c=>e.endsWith(c))}function Vt(t){const n=t.map(c=>c.path.split("/")).map(c=>c.slice(0,c.length-1)),e=ot(n);if(e){const r=`${n[0].slice(0,e).join("/")}/`;for(const o of t)o.path=o.path.replace(r,"")}return t}function Ft(t,n){Vt(t);const e=[];for(const r of[".github","docs"])t.find(o=>o.path.startsWith(`${r}/`))&&(t=t.filter(o=>!o.path.startsWith(`${r}/`)));for(const r of["fonts","script-opts","shaders"])if(t.find(o=>o.path.startsWith(`${r}/`))){const o=t.filter(s=>s.path.startsWith(`${r}/`));t=t.filter(s=>!s.path.startsWith(`${r}/`));for(const s of o)e.push(s)}if(t.find(r=>r.path.startsWith("scripts/"))){const r=t.filter(u=>u.path.startsWith("scripts/"));t=t.filter(u=>!u.path.startsWith("scripts/"));const o=r.map(u=>u.path.split("/")).map(u=>u.slice(1,u.length-1)),s=ot(o),h=`${(s?["scripts",...o[0].slice(0,s)]:["scripts"]).join("/")}/`,m=r.filter(u=>!u.path.replace(h,"").includes("/")&&u.path.endsWith(".lua")),v=r.filter(u=>!u.path.replace(h,"").includes("/")&&u.path.endsWith(".js"));m.length===1?m[0].path="scripts/main.lua":v.length===1&&(v[0].path="scripts/main.js");for(const u of r){const w=u.path.replace(h,"scripts/");u.path=w,e.push(u)}}if(t.find(r=>r.path.startsWith("externals/"))){const r=t.filter(o=>o.path.startsWith("externals/"));t=t.filter(o=>!o.path.startsWith("externals/"));for(const o of r)e.push(o)}for(const r of["input.conf","mpv.conf"]){const o=t.findIndex(a=>a.path===r);if(o===-1)continue;const s=t.splice(o,1)[0];e.push(s)}if(t.find(r=>!r.path.includes("/")&&r.path.endsWith(".conf"))){const r=t.filter(o=>!o.path.includes("/")&&o.path.endsWith(".conf"));t=t.filter(o=>!(!o.path.includes("/")&&o.path.endsWith(".conf")));for(const o of r)o.path=`script-opts/${o.path}`,e.push(o)}if(t.find(r=>!r.path.includes("/")&&V(r.path))){const r=t.filter(o=>!o.path.includes("/")&&V(o.path));t=t.filter(o=>!(!o.path.includes("/")&&V(o.path)));for(const o of r)o.path=`fonts/${o.path}`,e.push(o)}if(!t.find(r=>r.path==="scripts/main.lua"||r.path==="scripts/main.js")){const r=t.filter(s=>!s.path.includes("/")&&s.path.endsWith(".lua")),o=t.filter(s=>!s.path.includes("/")&&s.path.endsWith(".js"));if(r.length===1){const s=t.findIndex(a=>a===r[0]);t.splice(s,1),r[0].path="scripts/main.lua",e.push(r[0])}else if(o.length===1){const s=t.findIndex(a=>a===o[0]);t.splice(s,1),o[0].path="scripts/main.js",e.push(o[0])}}t.filter(r=>r.path.endsWith(".js")||r.path.endsWith(".lua")).length&&console.log("tryfix maybe failed",n,t.map(r=>r.path).join(" "));for(const r of t)e.push(r);return e}var te=function(t){ht(t,[])},ee=function(t){te(function(){t()})};const ft=t=>{let n;const e=new Set,c=(m,v)=>{const u=typeof m=="function"?m(n):m;if(!Object.is(u,n)){const w=n;n=v??(typeof u!="object"||u===null)?u:Object.assign({},n,u),e.forEach(p=>p(n,w))}},r=()=>n,a={setState:c,getState:r,getInitialState:()=>h,subscribe:m=>(e.add(m),()=>e.delete(m))},h=n=t(c,r,a);return a},ne=t=>t?ft(t):ft,oe=t=>t;function re(t,n=oe){const e=A.useSyncExternalStore(t.subscribe,A.useCallback(()=>n(t.getState()),[t,n]),A.useCallback(()=>n(t.getInitialState()),[t,n]));return A.useDebugValue(e),e}const se=t=>{const n=ne(t),e=c=>re(n,c);return Object.assign(e,n),e},ae=t=>se;function pt(t,n){let e;try{e=t()}catch{return}return{getItem:r=>{var o;const s=h=>h===null?null:JSON.parse(h,void 0),a=(o=e.getItem(r))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(r,o)=>e.setItem(r,JSON.stringify(o,void 0)),removeItem:r=>e.removeItem(r)}}const et=t=>n=>{try{const e=t(n);return e instanceof Promise?e:{then(c){return et(c)(e)},catch(c){return this}}}catch(e){return{then(c){return this},catch(c){return et(c)(e)}}}},ie=(t,n)=>(e,c,r)=>{let o={storage:pt(()=>localStorage),partialize:g=>g,version:0,merge:(g,k)=>({...k,...g}),...n},s=!1;const a=new Set,h=new Set;let m=o.storage;if(!m)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),e(...g)},c,r);const v=()=>{const g=o.partialize({...c()});return m.setItem(o.name,{state:g,version:o.version})},u=r.setState;r.setState=(g,k)=>{u(g,k),v()};const w=t((...g)=>{e(...g),v()},c,r);r.getInitialState=()=>w;let p;const $=()=>{var g,k;if(!m)return;s=!1,a.forEach(x=>{var L;return x((L=c())!=null?L:w)});const I=((k=o.onRehydrateStorage)==null?void 0:k.call(o,(g=c())!=null?g:w))||void 0;return et(m.getItem.bind(m))(o.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==o.version){if(o.migrate){const L=o.migrate(x.state,x.version);return L instanceof Promise?L.then(C=>[!0,C]):[!0,L]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var L;const[C,M]=x;if(p=o.merge(M,(L=c())!=null?L:w),e(p,!0),C)return v()}).then(()=>{I?.(p,void 0),p=c(),s=!0,h.forEach(x=>x(p))}).catch(x=>{I?.(void 0,x)})};return r.persist={setOptions:g=>{o={...o,...g},g.storage&&(m=g.storage)},clearStorage:()=>{m?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>$(),hasHydrated:()=>s,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(h.add(g),()=>{h.delete(g)})},o.skipHydration||$(),p||w},ce=ie;Ct(function(t,n){n._reactRoot||(n._reactRoot=ut(n));var e=n._reactRoot;return e.render(t),function(){return new Promise(function(c){setTimeout(function(){e.unmount(),c()},0)})}});const mt="https://cdn.jsdelivr.net";async function le(t){const n=await fetch(t).then(e=>e.arrayBuffer());return new Uint8Array(n)}async function fe(t){const n=ue(t);if(!n)return[];const e=/<a[^>]+href="([^"]+)"[^>]*>([^<]+)<\/a>/g,c=[];for(const r of Array.from(n.matchAll(e),([,o,s])=>{const a=o.endsWith("/");return{path:o.split("/").slice(4).join("/"),url:mt+o,name:s,isDir:a}}))r.isDir||(r.buffer=await le(r.url)),r.name!=="..."&&c.push(r);return c}function ue(t){const n=/<table[^>]*>([\s\S]*?)<\/table>/i,e=t.match(n);return e?e[1].trim():null}async function gt(t,n,e){const c=await fetch(e).then(s=>s.text()),r=await fe(c),o=[];for(const s of r)if(s.isDir){const a=e+s.path,h=await gt(t,n,a);for(const m of h)o.push(m)}else o.push(s);return o}function nt(t,n){const e=mt+`/gh/${t}/${n}/`;return gt(t,n,e)}const he=["mpv","mpv-v3","mpv.net"],yt={data:{},tableData:[],spinning:!1,selectedRowKeys:[],externalList:[],ui:"osc",platform:"mpv-v3",repos:[]},R=[{name:"osc",repo:"https://github.com/mpv-player/mpv",deps:["autoload","thumbfast"],requires:[]},{name:"uosc",repo:"https://github.com/tomasklaen/uosc",deps:["thumbfast"],requires:["uosc"]},{name:"mpv-easy",repo:"https://github.com/mpv-easy/mpv-easy",deps:[],requires:["mpv-easy"]},{name:"modernx",repo:"https://github.com/cyl0/ModernX",deps:["thumbfast","autoload"],requires:["ModernX cyl0"]},{name:"modernz",repo:"https://github.com/Samillion/ModernZ",deps:["thumbfast","autoload"],requires:["ModernZ"]}],de=["ffmpeg","yt-dlp","play-with"];function q(t,n){const e=new Blob([new Uint8Array(n)],{type:"application/octet-stream"}),c=URL.createObjectURL(e),r=document.createElement("a"),o=t.split("/").at(-1)??t;r.download=o,r.href=c,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(c)}function pe(t,n,e,c){return`https://raw.githubusercontent.com/${t}/${n}/${e}/${c}`}function _(t){return pe("ahaoboy","mpv-easy-cdn","main",t)}function me(){return _("mpv-easy-play-with-windows.zip")}function ge(){return _("yt-dlp.zip")}function ye(){return _("ffmpeg-windows.tar.xz")}function ve(){return _("ffmpeg-v3-windows.tar.xz")}async function U(t){return fetch(t).then(n=>n.arrayBuffer()).then(n=>new Uint8Array(n))}function vt(t){return _(`${t}.zip`)}async function we(t){if(t.repo)return(await nt(t.repo.user,t.repo.repo)).filter(s=>!s.isDir).map(({path:s,buffer:a})=>new E(s,a,void 0,!1,null));const{download:n}=t;if(![".js",".lua",".zip"].some(o=>n.endsWith(o)))return console.log("not support script: ",t),[];const e=vt(t.name),c=await U(e);return D(z(e),c).filter(o=>!o.isDir)}async function be(t){let n=_("mpv-windows.tar.xz");t==="mpv.net"&&(n=_("mpv.net.tar.xz"));const e=await U(n);return D(z(n),e)||[]}const{defaultAlgorithm:Se,darkAlgorithm:xe}=Ot,{Search:$e}=Ut,{Title:Ie,Link:Le}=j,je={getItem:t=>{const e=new URLSearchParams(location.hash.slice(1)).get(t)??"";return JSON.parse(e)},setItem:(t,n)=>{const e=new URLSearchParams(location.hash.slice(1));e.set(t,JSON.stringify(n)),location.hash=e.toString()},removeItem:t=>{const n=new URLSearchParams(location.hash.slice(1));n.delete(t),location.hash=n.toString()}},F=150,tt=150,ke=250,We=ae()(ce((t,n)=>({...yt,setData:e=>t({...n(),data:e}),setTableData:e=>t({...n(),tableData:e}),setSpinning:e=>t({...n(),spinning:e}),setSelectedKeys:e=>t({...n(),selectedRowKeys:e}),setExternalList:e=>t({...n(),externalList:e}),setUI:e=>t({...n(),ui:e}),setPlatform:e=>t({...n(),platform:e}),setState:e=>{t({...n(),...e})},setRepos:e=>t({...n(),repos:e})}),{name:"mpv-build",storage:pt(()=>je),version:void 0,partialize:t=>Object.fromEntries(Object.entries(t).filter(([n])=>!["data","tableData","spinning"].includes(n)))}));function Pe(){const t=We(),n=Tt(null),{data:e,tableData:c,spinning:r,selectedRowKeys:o,externalList:s,ui:a,setData:h,setTableData:m,setSpinning:v,setUI:u,setSelectedKeys:w,setExternalList:p,platform:$,setPlatform:g,setState:k,repos:I,setRepos:x}=t,L=a==="mpv-easy"?"mpv-easy":`mpv-${a}`,[C,M]=_t(window.matchMedia("(prefers-color-scheme: dark)").matches),J=R.find(i=>i.name===a)?.requires||[],[Te,wt]=Rt.useNotification(),bt=()=>{k({...yt,data:e,tableData:c})},St=[...o,...R.find(i=>i.name===a)?.requires||[]],rt=async i=>{for(const l of St){const y=e[l],b=Ft(i,y);if(y.repo){const{user:d,repo:S}=y.repo,O=(await nt(d,S)).filter(Z=>!Z.isDir).map(({path:Z,buffer:Pt})=>new E(Z,Pt,void 0,!1,null)),K=`${d}-${S}`;lt(b,O,e[K])}else{const d=await we(e[l]);lt(b,d,e[l])}}},xt=async()=>{const i=[];await rt(i);for(const y of i)y.path=y.path.replace("portable_config/","");const l=X(Y.Zip,i);if(!l){console.log("zip file error");return}return l},$t=async()=>{const i=await be($);if(s.includes("ffmpeg")){const y=$==="mpv-v3"?ve():ye(),b=await U(y),d=D(z(y),b);for(const S of d)i.push(S)}if(s.includes("yt-dlp")){const y=ge(),b=await U(y),d=D(z(y),b);for(const S of d)i.push(S)}if(s.includes("play-with")){const y=me(),b=await U(y),d=D(z(y),b);for(const S of d)i.push(S)}await rt(i);const l=X(Y.Zip,i);if(!l){console.log("zip file error");return}return l},It=async()=>{v(!0),await new Promise(l=>setTimeout(l));const i=await $t();v(!1),i&&q(`${L}.zip`,i)},Lt=async()=>{v(!0),await new Promise(l=>setTimeout(l));const i=await xt();v(!1),i&&q("portable_config.zip",i)},st=async()=>{const i=_("scripts-full.json"),l=await fetch(i).then(d=>d.text()).then(d=>JSON.parse(d));for(const d in l)l[d].key=d;for(const{user:d,repo:S}of I){const P=`${d}-${S}`,O=`https://github.com/${d}/${S}`,K={key:P,name:P,download:P,author:d,description:O,homepage:O,repo:{user:d,repo:S}};l[P]=K}h(l);const y=o.map(d=>l[d]),b=Object.values(l).sort(()=>.5-Math.random()).filter(d=>!o.includes(d.name));m([...y,...b]),n.current=new Jt(Object.values(l),{keys:["name"]})};ee(st),ht(()=>{st()},[I]);const jt=[{title:"name",dataIndex:"name",key:"key",render:(i,l)=>f(Le,{href:l.homepage,target:"_blank",rel:"noreferrer",children:l.name}),width:ke},{title:"description",dataIndex:"description",key:"key"},{title:"author",dataIndex:"author",key:"url"},{title:"download",dataIndex:"download",key:"url",render:(i,l)=>f(H,{icon:f(G,{}),onClick:async()=>{if(l.repo){const d=(await nt(l.repo.user,l.repo.repo)).filter(P=>!P.isDir).map(({path:P,buffer:O})=>new E(P,O,void 0,!1,null)),S=X(Y.Zip,d);S&&q(`${l.repo.repo}.zip`,S);return}const y=await U(vt(l.name));q(`${l.name}.zip`,y)}},l.download)}],kt=(i,l,y)=>{const b=Gt(i);if(b){w([...new Set([...o,`${b.user}-${b.repo}`])]),x([...new Set([...I,b])]);return}const d=n.current?.search(i);d?.length&&m(d.map(S=>S.item))};if(!Object.keys(e).length)return f(T,{className:"main",vertical:!0,gap:"middle",justify:"center",align:"center",children:f(j,{children:f(Ie,{level:3,children:"Loading..."})})});const at=Qt([...o,...R.find(i=>i.name===a)?.requires||[]]),Wt=dt[a]||[];return W(Dt,{theme:{algorithm:C?xe:Se},children:[wt,W(T,{className:["main",C?"main-dark":"main-light"].join(" "),vertical:!0,gap:"middle",justify:"center",align:"center",children:[W(T,{gap:"middle",justify:"center",align:"center",style:{position:"absolute",top:"1rem",right:"1rem"},children:[f(j.Link,{href:"https://github.com/mpv-easy/mpv-easy",target:"_blank",children:f(At,{})}),f(j.Link,{href:"https://www.youtube.com/@mpveasy",target:"_blank",children:f(Bt,{})}),f(j.Link,{href:"https://x.com/mpv_easy",target:"_blank",children:f(Nt,{})}),C?f(j.Link,{onClick:()=>M(!1),children:f(Ht,{})}):f(j.Link,{onClick:()=>M(!0),children:f(qt,{})})]}),W(T,{gap:"middle",vertical:!0,align:"start",children:[W(T,{gap:"middle",justify:"center",align:"center",children:[f(j.Title,{level:5,style:{margin:0,width:F},children:f(it,{title:"mpv-v3 is for newer CPUs (usually after 2005). If it doesn't run, please use mpv",children:"Platform:"})}),f(B.Group,{value:$,onChange:i=>{g(i.target.value)},children:he.map(i=>f(it,{placement:"topLeft",title:i==="mpv"?"Typically, you should use mpv-v3 unless it fails to run or you're using an older CPU (manufactured around 2015 or earlier).":"",children:f(B,{value:i,style:{width:tt},children:i},i)},i))})]}),W(T,{gap:"middle",justify:"center",align:"center",children:[f(j.Title,{level:5,style:{margin:0,width:F},children:"UI:"}),f(B.Group,{onChange:i=>{u(i.target.value);const l=R.find(y=>y.name===i.target.value)?.deps||[];w([...l])},value:a,children:R.map(i=>f(B,{value:i.name,style:{width:tt},children:f(j.Link,{href:i.repo,target:"_blank",children:i.name})},i.name))})]}),W(T,{gap:"middle",justify:"center",align:"center",children:[f(j.Title,{level:5,style:{margin:0,width:F},children:"External:"}),f(ct.Group,{value:s,onChange:i=>{p(i)},children:de.map(i=>f(ct,{value:i,style:{width:tt},children:i},i))})]})]}),f($e,{placeholder:"input script name or https://github.com/<user>/<repo>",onSearch:kt,enterButton:!0}),f(zt,{rowSelection:{hideSelectAll:!0,type:"checkbox",onSelect:(i,l)=>{w(l?[...o,i.name]:[...o].filter(y=>y!==i.name))},getCheckboxProps:i=>({disabled:J.includes(i.name)||Wt.includes(i.name),name:i.name}),selectedRowKeys:[...o,...J]},className:"table",columns:jt,dataSource:c}),f(Et,{spinning:r,fullscreen:!0}),W(T,{children:[f(N,{color:"processing",children:$},$),J.map((i,l)=>e[i]&&f(N,{color:"success",children:e[i]?.name},e[i]?.key+l)),s.map(i=>f(N,{color:"success",children:i},i)),o.map((i,l)=>f(N,{closable:!0,color:"success",onClose:y=>{const b=o.indexOf(e[i]?.key);if(b!==-1){const d=[...o];d.splice(b,1),w(d)}y.preventDefault()},children:e[i]?.name},e[i]?.key+l))]}),W(T,{gap:"middle",children:[f(H,{color:"danger",size:"large",variant:"solid",onClick:bt,children:"Reset"}),W(H,{type:"primary",icon:f(G,{}),size:"large",onClick:It,children:[L,".zip"]}),f(H,{type:"primary",icon:f(G,{}),size:"large",onClick:Lt,children:"portable_config.zip"})]}),!!at.length&&f(Mt,{description:`conflict: ${at.join(" ")}`,type:"error"})]})]})}ut(document.getElementById("root")).render(f(Pe,{}));
