import{jsx as f,jsxs as P}from"https://esm.sh/react/jsx-runtime";import{createRoot as Ct}from"https://esm.sh/react-dom/client";import A,{useEffect as pt,useRef as Ut,useState as _t}from"https://esm.sh/react";import{theme as Dt,Input as Rt,Typography as k,notification as zt,Flex as O,ConfigProvider as Et,Tooltip as ct,Radio as B,Checkbox as lt,Table as Mt,Spin as At,Tag as N,Button as H,Alert as Bt}from"https://esm.sh/antd?standalone";import{GithubOutlined as Nt,YoutubeOutlined as Ht,TwitterOutlined as qt,SunOutlined as Jt,MoonOutlined as Kt,DownloadOutlined as G}from"https://esm.sh/@ant-design/icons?standalone";import Zt from"https://esm.sh/fuse.js?standalone";import{File as E,decode as R,guess as z,encode as X,Fmt as Y}from"https://esm.sh/@easy-install/easy-archive?standalone";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const Gt="ttf,otf,woff,woff2,eot".split(","),Xt="dll,so,dylib".split(",");function dt(t,e){if(!t?.length)return!1;for(const n of e){if(n.length===0)return!t.includes(".");if(t.endsWith(`.${n}`))return!0}return!1}function Q(t,e=Gt){return dt(t.toLocaleLowerCase(),e)}function V(t,e=Xt){return dt(t.toLocaleLowerCase(),e)}function Yt(t){try{const e=new URL(t);if(e.hostname!=="github.com")return;const n=e.pathname.split("/").filter(Boolean);return n.length<2?void 0:{user:n[0],repo:n[1]}}catch{return}}function Qt(t,e,n){const c=new TextDecoder("utf-8"),s=c.decode(t),o="#".repeat(4),a=[o,n.name,o].join(" ");if(s.includes(a))return t;const r=c.decode(e).trim(),h=[s,"",a,r,a,""].join(`
`).trimStart();return new TextEncoder().encode(h)}function st(t){if(t.length===0)return 0;if(t.length===1)return t[0].length;let e=0;const n=t[0];for(let c=0;c<n.length;c++){const s=n[c];if(t.every(o=>o[c]===s))e++;else break}return e}function ft(t,e,n,c="portable_config"){for(const a of["fonts","script-opts","shaders"])if(e.find(r=>r.path.startsWith(`${a}/`))){const r=e.filter(h=>h.path.startsWith(`${a}/`));e=e.filter(h=>!h.path.startsWith(`${a}/`));for(const h of r)h.path=`${c}/${a}/${h.path.replace(`${a}/`,"")}`,t.push(h)}if(e.find(a=>a.path.startsWith("scripts/"))){const a=e.filter(d=>d.path.startsWith("scripts/"));e=e.filter(d=>!d.path.startsWith("scripts/"));const r=a.map(d=>d.path.split("/")).map(d=>d.slice(1,d.length-1)),h=st(r),v=`${(h?["scripts",...r[0].slice(0,h)]:["scripts"]).join("/")}/`,u=a.filter(d=>!d.path.replace(v,"").includes("/")&&d.path.endsWith(".lua")),b=a.filter(d=>!d.path.replace(v,"").includes("/")&&d.path.endsWith(".js"));u.length===1?u[0].path=`${n.scriptName||n.name}/main.lua`:b.length===1&&(b[0].path=`${n.scriptName||n.name}/main.js`);for(const d of a){const L=d.path.replace(v,`${n.scriptName||n.name}/`);d.path=`${c}/scripts/${L}`,t.push(d)}}if(e.find(a=>a.path.startsWith("externals/"))){const a=e.filter(r=>r.path.startsWith("externals/"));e=e.filter(r=>!r.path.startsWith("externals/"));for(const r of a)r.path=r.path.replace("externals/",""),t.push(r)}for(const a of["input.conf","mpv.conf"]){const r=e.findIndex($=>$.path===a);if(r===-1)continue;const h=e.splice(r,1)[0],m=t.findIndex($=>$.path===`${c}/${a}`);let v;m===-1?v=new E(`${c}/${a}`,new Uint8Array,void 0,!1,BigInt(Date.now())):v=t.splice(m,1)[0];const{path:u,mode:b,isDir:d,lastModified:L,buffer:y}=v,j=Qt(y,h.buffer,n);t.push(new E(u,j,b,d,L))}if(e.find(a=>!a.path.includes("/")&&a.path.endsWith(".conf"))){const a=e.filter(r=>!r.path.includes("/")&&r.path.endsWith(".conf"));e=e.filter(r=>!(!r.path.includes("/")&&r.path.endsWith(".conf")));for(const r of a){const h=e.find(u=>u.path===r.path.replace(".conf",".js")),m=e.find(u=>u.path===r.path.replace(".conf",".lua")),v=h||m?`${c}/script-opts/${r.path}`:r.path;r.path=v,t.push(r)}}if(e.find(a=>!a.path.includes("/")&&Q(a.path))){const a=e.filter(r=>!r.path.includes("/")&&Q(r.path));e=e.filter(r=>!(!r.path.includes("/")&&Q(r.path)));for(const r of a)r.path=`${c}/fonts/${r.path}`,t.push(r)}if(e.find(a=>!a.path.includes("/")&&V(a.path))){const a=e.filter(r=>!r.path.includes("/")&&V(r.path));e=e.filter(r=>!(!r.path.includes("/")&&V(r.path)));for(const r of a)r.path=`${c}/scripts/${r.path}`,t.push(r)}const s=e.filter(a=>!a.path.includes("/")&&a.path.endsWith(".lua")),o=e.filter(a=>!a.path.includes("/")&&a.path.endsWith(".js"));s.length===1?s[0].path="main.lua":o.length===1&&(o[0].path="main.js");for(const a of e)a.path=`${c}/scripts/${n.scriptName||n.name}/${a.path}`,t.push(a)}const Vt=[["thumbfast","mpv-easy-thumbfast"],["autoload","mpv-easy-autoload"],["uosc","mpv-easy","ModernX cyl0","ModernZ","mpv.net"]],mt={uosc:["autoload","mpv-easy-autoload"],"mpv-easy":["mpv-easy-anime4k","mpv-easy-clipboard-play","mpv-easy-copy-time","mpv-easy-cut","mpv-easy-translate","mpv-easy-autoload","mpv-easy-copy-screen","mpv-easy-crop","mpv-easy-thumbfast","mpv-easy-frame-seeker"]};function Ft(t,e=Vt){for(const s of e){const o=[];for(const a of t)s.includes(a)&&o.push(a);if(o.length>1)return o}const n=new Set,c=new Set(t);for(const s in t){const o=mt[s]||[];for(const a of o)c.has(a)&&(n.add(s),n.add(a))}return Array.from(n)}function F(t){const e=[".ttf",".otf",".woff",".woff2",".eot"],n=t.toLowerCase();return e.some(c=>n.endsWith(c))}function te(t){const e=t.map(c=>c.path.split("/")).map(c=>c.slice(0,c.length-1)),n=st(e);if(n&&e.length){const s=`${e[0].slice(0,n).join("/")}/`;for(const o of t)o.path=o.path.replace(s,"")}return t}function ut(t,e){te(t);const n=[];for(const s of[".github","docs"])t.find(o=>o.path.startsWith(`${s}/`))&&(t=t.filter(o=>!o.path.startsWith(`${s}/`)));for(const s of["fonts","script-opts","shaders"])if(t.find(o=>o.path.startsWith(`${s}/`))){const o=t.filter(a=>a.path.startsWith(`${s}/`));t=t.filter(a=>!a.path.startsWith(`${s}/`));for(const a of o)n.push(a)}if(t.find(s=>s.path.startsWith("scripts/"))){const s=t.filter(u=>u.path.startsWith("scripts/"));t=t.filter(u=>!u.path.startsWith("scripts/"));const o=s.map(u=>u.path.split("/")).map(u=>u.slice(1,u.length-1)),a=st(o),h=`${(a?["scripts",...o[0].slice(0,a)]:["scripts"]).join("/")}/`,m=s.filter(u=>!u.path.replace(h,"").includes("/")&&u.path.endsWith(".lua")),v=s.filter(u=>!u.path.replace(h,"").includes("/")&&u.path.endsWith(".js"));m.length===1?m[0].path="scripts/main.lua":v.length===1&&(v[0].path="scripts/main.js");for(const u of s){const b=u.path.replace(h,"scripts/");u.path=b,n.push(u)}}if(t.find(s=>s.path.startsWith("externals/"))){const s=t.filter(o=>o.path.startsWith("externals/"));t=t.filter(o=>!o.path.startsWith("externals/"));for(const o of s)n.push(o)}for(const s of["input.conf","mpv.conf"]){const o=t.findIndex(r=>r.path===s);if(o===-1)continue;const a=t.splice(o,1)[0];n.push(a)}if(t.find(s=>!s.path.includes("/")&&s.path.endsWith(".conf"))){const s=t.filter(o=>!o.path.includes("/")&&o.path.endsWith(".conf"));t=t.filter(o=>!(!o.path.includes("/")&&o.path.endsWith(".conf")));for(const o of s)o.path=`script-opts/${o.path}`,n.push(o)}if(t.find(s=>!s.path.includes("/")&&F(s.path))){const s=t.filter(o=>!o.path.includes("/")&&F(o.path));t=t.filter(o=>!(!o.path.includes("/")&&F(o.path)));for(const o of s)o.path=`fonts/${o.path}`,n.push(o)}if(!t.find(s=>s.path==="scripts/main.lua"||s.path==="scripts/main.js")){const s=t.filter(a=>!a.path.includes("/")&&a.path.endsWith(".lua")),o=t.filter(a=>!a.path.includes("/")&&a.path.endsWith(".js"));if(s.length===1){const a=t.indexOf(s[0]);t.splice(a,1),s[0].path="scripts/main.lua",n.push(s[0])}else if(o.length===1){const a=t.indexOf(o[0]);t.splice(a,1),o[0].path="scripts/main.js",n.push(o[0])}}t.filter(s=>s.path.endsWith(".js")||s.path.endsWith(".lua")).length&&console.log("tryfix maybe failed",e,t.map(s=>s.path).join(" "));for(const s of t)n.push(s);return n}var ee=function(t){pt(t,[])},ne=function(t){ee(function(){t()})};const ht=t=>{let e;const n=new Set,c=(m,v)=>{const u=typeof m=="function"?m(e):m;if(!Object.is(u,e)){const b=e;e=v??(typeof u!="object"||u===null)?u:Object.assign({},e,u),n.forEach(d=>d(e,b))}},s=()=>e,r={setState:c,getState:s,getInitialState:()=>h,subscribe:m=>(n.add(m),()=>n.delete(m))},h=e=t(c,s,r);return r},oe=(t=>t?ht(t):ht),se=t=>t;function ae(t,e=se){const n=A.useSyncExternalStore(t.subscribe,A.useCallback(()=>e(t.getState()),[t,e]),A.useCallback(()=>e(t.getInitialState()),[t,e]));return A.useDebugValue(n),n}const re=t=>{const e=oe(t),n=c=>ae(e,c);return Object.assign(n,e),n},ie=(t=>re);function yt(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var o;const a=h=>h===null?null:JSON.parse(h,void 0),r=(o=n.getItem(s))!=null?o:null;return r instanceof Promise?r.then(a):a(r)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const nt=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(c){return nt(c)(n)},catch(c){return this}}}catch(n){return{then(c){return this},catch(c){return nt(c)(n)}}}},ce=(t,e)=>(n,c,s)=>{let o={storage:yt(()=>localStorage),partialize:y=>y,version:0,merge:(y,j)=>({...j,...y}),...e},a=!1;const r=new Set,h=new Set;let m=o.storage;if(!m)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...y)},c,s);const v=()=>{const y=o.partialize({...c()});return m.setItem(o.name,{state:y,version:o.version})},u=s.setState;s.setState=(y,j)=>(u(y,j),v());const b=t((...y)=>(n(...y),v()),c,s);s.getInitialState=()=>b;let d;const L=()=>{var y,j;if(!m)return;a=!1,r.forEach(S=>{var I;return S((I=c())!=null?I:b)});const $=((j=o.onRehydrateStorage)==null?void 0:j.call(o,(y=c())!=null?y:b))||void 0;return nt(m.getItem.bind(m))(o.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==o.version){if(o.migrate){const I=o.migrate(S.state,S.version);return I instanceof Promise?I.then(T=>[!0,T]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var I;const[T,M]=S;if(d=o.merge(M,(I=c())!=null?I:b),n(d,!0),T)return v()}).then(()=>{$?.(d,void 0),d=c(),a=!0,h.forEach(S=>S(d))}).catch(S=>{$?.(void 0,S)})};return s.persist={setOptions:y=>{o={...o,...y},y.storage&&(m=y.storage)},clearStorage:()=>{m?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>L(),hasHydrated:()=>a,onHydrate:y=>(r.add(y),()=>{r.delete(y)}),onFinishHydration:y=>(h.add(y),()=>{h.delete(y)})},o.skipHydration||L(),d||b},le=ce,gt="https://cdn.jsdelivr.net";async function fe(t){const e=await fetch(t).then(n=>n.arrayBuffer());return new Uint8Array(e)}async function ue(t){const e=he(t);if(!e)return[];const n=/<a[^>]+href="([^"]+)"[^>]*>([^<]+)<\/a>/g,c=[];for(const s of Array.from(e.matchAll(n),([,o,a])=>{const r=o.endsWith("/");return{path:o.split("/").slice(4).join("/"),url:gt+o,name:a,isDir:r}}))s.isDir||(s.buffer=await fe(s.url)),s.name!=="..."&&c.push(s);return c}function he(t){const e=/<table[^>]*>([\s\S]*?)<\/table>/i,n=t.match(e);return n?n[1].trim():null}async function vt(t,e,n){const c=await fetch(n).then(a=>a.text()),s=await ue(c),o=[];for(const a of s)if(a.isDir){const r=n+a.path,h=await vt(t,e,r);for(const m of h)o.push(m)}else o.push(a);return o}function ot(t,e){const n=gt+`/gh/${t}/${e}/`;return vt(t,e,n)}const pe=["mpv","mpv-v3","mpv.net"],wt={data:{},tableData:[],spinning:!1,selectedRowKeys:[],externalList:[],ui:"osc",platform:"mpv-v3",repos:[]},D=[{name:"osc",repo:"https://github.com/mpv-player/mpv",deps:["autoload","thumbfast"],requires:[]},{name:"uosc",repo:"https://github.com/tomasklaen/uosc",deps:["thumbfast"],requires:["uosc"]},{name:"mpv-easy",repo:"https://github.com/mpv-easy/mpv-easy",deps:[],requires:["mpv-easy"]},{name:"modernx",repo:"https://github.com/cyl0/ModernX",deps:["thumbfast","autoload"],requires:["ModernX cyl0"]},{name:"modernz",repo:"https://github.com/Samillion/ModernZ",deps:["thumbfast","autoload"],requires:["ModernZ"]}],de=["ffmpeg","yt-dlp","play-with"];function q(t,e){const n=new Blob([new Uint8Array(e)],{type:"application/octet-stream"}),c=URL.createObjectURL(n),s=document.createElement("a"),o=t.split("/").at(-1)??t;s.download=o,s.href=c,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(c)}function me(t,e,n,c){return`https://raw.githubusercontent.com/${t}/${e}/${n}/${c}`}function C(t){return me("ahaoboy","mpv-easy-cdn","main",t)}function ye(){return C("mpv-easy-play-with-windows.zip")}function ge(){return C("yt-dlp.zip")}function ve(){return C("ffmpeg-windows.tar.xz")}async function _(t){return fetch(t).then(e=>e.arrayBuffer()).then(e=>new Uint8Array(e))}function bt(t){return C(`${t}.zip`)}async function we(t){if(t.repo)return(await ot(t.repo.user,t.repo.repo)).filter(a=>!a.isDir).map(({path:a,buffer:r})=>new E(a,r,void 0,!1,null));const{download:e}=t;if(![".js",".lua",".zip"].some(o=>e.endsWith(o)))return console.log("not support script: ",t),[];const n=bt(t.name),c=await _(n);return R(z(n),c).filter(o=>!o.isDir)}async function be(t){let e=C("mpv-windows.tar.xz");t==="mpv.net"&&(e=C("mpv.net.tar.xz"));const n=await _(e);return R(z(e),n)||[]}const{defaultAlgorithm:Se,darkAlgorithm:xe}=Dt,{Search:$e}=Rt,{Title:Ie,Link:Le}=k,ke={getItem:t=>{const n=new URLSearchParams(location.hash.slice(1)).get(t)??"";return JSON.parse(n)},setItem:(t,e)=>{const n=new URLSearchParams(location.hash.slice(1));n.set(t,JSON.stringify(e)),location.hash=n.toString()},removeItem:t=>{const e=new URLSearchParams(location.hash.slice(1));e.delete(t),location.hash=e.toString()}},tt=150,et=150,je=250,We=ie()(le((t,e)=>({...wt,setData:n=>t({...e(),data:n}),setTableData:n=>t({...e(),tableData:n}),setSpinning:n=>t({...e(),spinning:n}),setSelectedKeys:n=>t({...e(),selectedRowKeys:n}),setExternalList:n=>t({...e(),externalList:n}),setUI:n=>t({...e(),ui:n}),setPlatform:n=>t({...e(),platform:n}),setState:n=>{t({...e(),...n})},setRepos:n=>t({...e(),repos:n})}),{name:"mpv-build",storage:yt(()=>ke),version:void 0,partialize:t=>Object.fromEntries(Object.entries(t).filter(([e])=>!["data","tableData","spinning"].includes(e)))}));function Pe(){const t=We(),e=Ut(null),{data:n,tableData:c,spinning:s,selectedRowKeys:o,externalList:a,ui:r,setData:h,setTableData:m,setSpinning:v,setUI:u,setSelectedKeys:b,setExternalList:d,platform:L,setPlatform:y,setState:j,repos:$,setRepos:S}=t,I=r==="mpv-easy"?"mpv-easy":`mpv-${r}`,[T,M]=_t(window.matchMedia("(prefers-color-scheme: dark)").matches),J=D.find(i=>i.name===r)?.requires||[],[Oe,St]=zt.useNotification(),xt=()=>{j({...wt,data:n,tableData:c})},$t=[...o,...D.find(i=>i.name===r)?.requires||[]],at=async i=>{for(const l of $t){const g=n[l];if(g.repo){const{user:w,repo:p}=g.repo,W=(await ot(w,p)).filter(Z=>!Z.isDir).map(({path:Z,buffer:Tt})=>new E(Z,Tt,void 0,!1,null)),U=ut(W,g),K=`${w}-${p}`;ft(i,U,n[K])}else{const w=await we(n[l]),p=ut(w,g);ft(i,p,n[l])}}},It=async()=>{const i=[];await at(i);for(const g of i)g.path=g.path.replace("portable_config/","");const l=X(Y.Zip,i);if(!l){console.log("zip file error");return}return l},Lt=async()=>{const i=await be(L);if(a.includes("ffmpeg")){const g=ve(),w=await _(g),p=R(z(g),w);for(const x of p)i.push(x)}if(a.includes("yt-dlp")){const g=ge(),w=await _(g),p=R(z(g),w);for(const x of p)i.push(x)}if(a.includes("play-with")){const g=ye(),w=await _(g),p=R(z(g),w);for(const x of p)i.push(x)}await at(i);const l=X(Y.Zip,i);if(!l){console.log("zip file error");return}return l},kt=async()=>{v(!0),await new Promise(l=>setTimeout(l));const i=await Lt();v(!1),i&&q(`${I}.zip`,i)},jt=async()=>{v(!0),await new Promise(l=>setTimeout(l));const i=await It();v(!1),i&&q("portable_config.zip",i)},rt=async()=>{const i=C("scripts-full.json"),l=await fetch(i).then(p=>p.text()).then(p=>JSON.parse(p));for(const p in l)l[p].key=p;for(const{user:p,repo:x}of $){const W=`${p}-${x}`,U=`https://github.com/${p}/${x}`,K={key:W,name:W,download:W,author:p,description:U,homepage:U,repo:{user:p,repo:x}};l[W]=K}h(l);const g=o.map(p=>l[p]),w=Object.values(l).sort(()=>.5-Math.random()).filter(p=>!o.includes(p.name));m([...g,...w]),e.current=new Zt(Object.values(l),{keys:["name"]})};ne(rt),pt(()=>{rt()},[$]);const Wt=[{title:"name",dataIndex:"name",key:"key",render:(i,l)=>f(Le,{href:l.homepage,target:"_blank",rel:"noreferrer",children:l.name}),width:je},{title:"description",dataIndex:"description",key:"key"},{title:"author",dataIndex:"author",key:"url"},{title:"download",dataIndex:"download",key:"url",render:(i,l)=>f(H,{icon:f(G,{}),onClick:async()=>{if(l.repo){const p=(await ot(l.repo.user,l.repo.repo)).filter(W=>!W.isDir).map(({path:W,buffer:U})=>new E(W,U,void 0,!1,null)),x=X(Y.Zip,p);x&&q(`${l.repo.repo}.zip`,x);return}const g=await _(bt(l.name));q(`${l.name}.zip`,g)}},l.download)}],Pt=(i,l,g)=>{const w=Yt(i);if(w){b([...new Set([...o,`${w.user}-${w.repo}`])]),S([...new Set([...$,w])]);return}const p=e.current?.search(i);p?.length&&m(p.map(x=>x.item))};if(!Object.keys(n).length)return f(O,{className:"main",vertical:!0,gap:"middle",justify:"center",align:"center",children:f(k,{children:f(Ie,{level:3,children:"Loading..."})})});const it=Ft([...o,...D.find(i=>i.name===r)?.requires||[]]),Ot=mt[r]||[];return P(Et,{theme:{algorithm:T?xe:Se},children:[St,P(O,{className:["main",T?"main-dark":"main-light"].join(" "),vertical:!0,gap:"middle",justify:"center",align:"center",children:[P(O,{gap:"middle",justify:"center",align:"center",style:{position:"absolute",top:"1rem",right:"1rem"},children:[f(k.Link,{href:"https://github.com/mpv-easy/mpv-easy",target:"_blank",children:f(Nt,{})}),f(k.Link,{href:"https://www.youtube.com/@mpveasy",target:"_blank",children:f(Ht,{})}),f(k.Link,{href:"https://x.com/mpv_easy",target:"_blank",children:f(qt,{})}),T?f(k.Link,{onClick:()=>M(!1),children:f(Jt,{})}):f(k.Link,{onClick:()=>M(!0),children:f(Kt,{})})]}),P(O,{gap:"middle",vertical:!0,align:"start",children:[P(O,{gap:"middle",justify:"center",align:"center",children:[f(k.Title,{level:5,style:{margin:0,width:tt},children:f(ct,{title:"mpv-v3 is for newer CPUs (usually after 2005). If it doesn't run, please use mpv",children:"Platform:"})}),f(B.Group,{value:L,onChange:i=>{y(i.target.value)},children:pe.map(i=>f(ct,{placement:"topLeft",title:i==="mpv"?"Typically, you should use mpv-v3 unless it fails to run or you're using an older CPU (manufactured around 2015 or earlier).":"",children:f(B,{value:i,style:{width:et},children:i},i)},i))})]}),P(O,{gap:"middle",justify:"center",align:"center",children:[f(k.Title,{level:5,style:{margin:0,width:tt},children:"UI:"}),f(B.Group,{onChange:i=>{u(i.target.value);const l=D.find(g=>g.name===i.target.value)?.deps||[];b([...l])},value:r,children:D.map(i=>f(B,{value:i.name,style:{width:et},children:f(k.Link,{href:i.repo,target:"_blank",children:i.name})},i.name))})]}),P(O,{gap:"middle",justify:"center",align:"center",children:[f(k.Title,{level:5,style:{margin:0,width:tt},children:"External:"}),f(lt.Group,{value:a,onChange:i=>{d(i)},children:de.map(i=>f(lt,{value:i,style:{width:et},children:i},i))})]})]}),f($e,{placeholder:"input script name or https://github.com/<user>/<repo>",onSearch:Pt,enterButton:!0}),f(Mt,{rowSelection:{hideSelectAll:!0,type:"checkbox",onSelect:(i,l)=>{b(l?[...o,i.name]:[...o].filter(g=>g!==i.name))},getCheckboxProps:i=>({disabled:J.includes(i.name)||Ot.includes(i.name),name:i.name}),selectedRowKeys:[...o,...J]},className:"table",columns:Wt,dataSource:c}),f(At,{spinning:s,fullscreen:!0}),P(O,{children:[f(N,{color:"processing",children:L},L),J.map((i,l)=>n[i]&&f(N,{color:"success",children:n[i]?.name},n[i]?.key+l)),a.map(i=>f(N,{color:"success",children:i},i)),o.map((i,l)=>f(N,{closable:!0,color:"success",onClose:g=>{const w=o.indexOf(n[i]?.key);if(w!==-1){const p=[...o];p.splice(w,1),b(p)}g.preventDefault()},children:n[i]?.name},n[i]?.key+l))]}),P(O,{gap:"middle",children:[f(H,{color:"danger",size:"large",variant:"solid",onClick:xt,children:"Reset"}),P(H,{type:"primary",icon:f(G,{}),size:"large",onClick:kt,children:[I,".zip"]}),f(H,{type:"primary",icon:f(G,{}),size:"large",onClick:jt,children:"portable_config.zip"})]}),!!it.length&&f(Bt,{description:`conflict: ${it.join(" ")}`,type:"error"})]})]})}Ct(document.getElementById("root")).render(f(Pe,{}));
