import{jsx as f,jsxs as P}from"https://esm.sh/react/jsx-runtime";import{createRoot as Ot}from"https://esm.sh/react-dom/client";import A,{useEffect as ht,useRef as Tt,useState as Ct}from"https://esm.sh/react";import{theme as Ut,Input as _t,Typography as j,notification as Dt,Flex as O,ConfigProvider as Rt,Tooltip as it,Radio as B,Checkbox as ct,Table as zt,Spin as Et,Tag as N,Button as H,Alert as Mt}from"https://esm.sh/antd?standalone";import{GithubOutlined as At,YoutubeOutlined as Bt,TwitterOutlined as Nt,SunOutlined as Ht,MoonOutlined as qt,DownloadOutlined as G}from"https://esm.sh/@ant-design/icons?standalone";import Jt from"https://esm.sh/fuse.js?standalone";import{File as E,decode as R,guess as z,encode as X,Fmt as Y}from"https://esm.sh/@easy-install/easy-archive?standalone";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();const Kt="ttf,otf,woff,woff2,eot".split(",");function Zt(t,o){if(!t?.length)return!1;for(const e of o){if(e.length===0)return!t.includes(".");if(t.endsWith(`.${e}`))return!0}return!1}function Q(t,o=Kt){return Zt(t.toLocaleLowerCase(),o)}function Gt(t){try{const o=new URL(t);if(o.hostname!=="github.com")return;const e=o.pathname.split("/").filter(Boolean);return e.length<2?void 0:{user:e[0],repo:e[1]}}catch{return}}function Xt(t,o,e){const c=new TextDecoder("utf-8"),r=c.decode(t),n="#".repeat(4),s=[n,e.name,n].join(" ");if(r.includes(s))return t;const i=c.decode(o).trim(),h=[r,"",s,i,s,""].join(`
`).trimStart();return new TextEncoder().encode(h)}function ot(t){if(t.length===0)return 0;if(t.length===1)return t[0].length;let o=0;const e=t[0];for(let c=0;c<e.length;c++){const r=e[c];if(t.every(n=>n[c]===r))o++;else break}return o}function lt(t,o,e,c="portable_config"){for(const s of["fonts","script-opts","shaders"])if(o.find(i=>i.path.startsWith(`${s}/`))){const i=o.filter(h=>h.path.startsWith(`${s}/`));o=o.filter(h=>!h.path.startsWith(`${s}/`));for(const h of i)h.path=`${c}/${s}/${h.path.replace(`${s}/`,"")}`,t.push(h)}if(o.find(s=>s.path.startsWith("scripts/"))){const s=o.filter(d=>d.path.startsWith("scripts/"));o=o.filter(d=>!d.path.startsWith("scripts/"));const i=s.map(d=>d.path.split("/")).map(d=>d.slice(1,d.length-1)),h=ot(i),v=`${(h?["scripts",...i[0].slice(0,h)]:["scripts"]).join("/")}/`,u=s.filter(d=>!d.path.replace(v,"").includes("/")&&d.path.endsWith(".lua")),b=s.filter(d=>!d.path.replace(v,"").includes("/")&&d.path.endsWith(".js"));u.length===1?u[0].path=`${e.scriptName||e.name}/main.lua`:b.length===1&&(b[0].path=`${e.scriptName||e.name}/main.js`);for(const d of s){const $=d.path.replace(v,`${e.scriptName||e.name}/`);d.path=`${c}/scripts/${$}`,t.push(d)}}if(o.find(s=>s.path.startsWith("externals/"))){const s=o.filter(i=>i.path.startsWith("externals/"));o=o.filter(i=>!i.path.startsWith("externals/"));for(const i of s)i.path=i.path.replace("externals/",""),t.push(i)}for(const s of["input.conf","mpv.conf"]){const i=o.findIndex(I=>I.path===s);if(i===-1)continue;const h=o.splice(i,1)[0],m=t.findIndex(I=>I.path===`${c}/${s}`);let v;m===-1?v=new E(`${c}/${s}`,new Uint8Array,void 0,!1,BigInt(Date.now())):v=t.splice(m,1)[0];const{path:u,mode:b,isDir:d,lastModified:$,buffer:g}=v,k=Xt(g,h.buffer,e);t.push(new E(u,k,b,d,$))}if(o.find(s=>!s.path.includes("/")&&s.path.endsWith(".conf"))){const s=o.filter(i=>!i.path.includes("/")&&i.path.endsWith(".conf"));o=o.filter(i=>!(!i.path.includes("/")&&i.path.endsWith(".conf")));for(const i of s){const h=o.find(u=>u.path===i.path.replace(".conf",".js")),m=o.find(u=>u.path===i.path.replace(".conf",".lua")),v=h||m?`${c}/script-opts/${i.path}`:i.path;i.path=v,t.push(i)}}if(o.find(s=>!s.path.includes("/")&&Q(s.path))){const s=o.filter(i=>!i.path.includes("/")&&Q(i.path));o=o.filter(i=>!(!i.path.includes("/")&&Q(i.path)));for(const i of s)i.path=`${c}/fonts/${i.path}`,t.push(i)}const r=o.filter(s=>!s.path.includes("/")&&s.path.endsWith(".lua")),n=o.filter(s=>!s.path.includes("/")&&s.path.endsWith(".js"));r.length===1?r[0].path="main.lua":n.length===1&&(n[0].path="main.js");for(const s of o)s.path=`${c}/scripts/${e.scriptName||e.name}/${s.path}`,t.push(s)}const Yt=[["thumbfast","mpv-easy-thumbfast"],["autoload","mpv-easy-autoload"],["uosc","mpv-easy","ModernX cyl0","ModernZ","mpv.net"]],pt={uosc:["autoload","mpv-easy-autoload"],"mpv-easy":["mpv-easy-anime4k","mpv-easy-clipboard-play","mpv-easy-copy-time","mpv-easy-cut","mpv-easy-translate","mpv-easy-autoload","mpv-easy-copy-screen","mpv-easy-crop","mpv-easy-thumbfast"]};function Qt(t,o=Yt){for(const r of o){const n=[];for(const s of t)r.includes(s)&&n.push(s);if(n.length>1)return n}const e=new Set,c=new Set(t);for(const r in t){const n=pt[r]||[];for(const s of n)c.has(s)&&(e.add(r),e.add(s))}return Array.from(e)}function V(t){const o=[".ttf",".otf",".woff",".woff2",".eot"],e=t.toLowerCase();return o.some(c=>e.endsWith(c))}function Vt(t){const o=t.map(c=>c.path.split("/")).map(c=>c.slice(0,c.length-1)),e=ot(o);if(e&&o.length){const r=`${o[0].slice(0,e).join("/")}/`;for(const n of t)n.path=n.path.replace(r,"")}return t}function ft(t,o){Vt(t);const e=[];for(const r of[".github","docs"])t.find(n=>n.path.startsWith(`${r}/`))&&(t=t.filter(n=>!n.path.startsWith(`${r}/`)));for(const r of["fonts","script-opts","shaders"])if(t.find(n=>n.path.startsWith(`${r}/`))){const n=t.filter(s=>s.path.startsWith(`${r}/`));t=t.filter(s=>!s.path.startsWith(`${r}/`));for(const s of n)e.push(s)}if(t.find(r=>r.path.startsWith("scripts/"))){const r=t.filter(u=>u.path.startsWith("scripts/"));t=t.filter(u=>!u.path.startsWith("scripts/"));const n=r.map(u=>u.path.split("/")).map(u=>u.slice(1,u.length-1)),s=ot(n),h=`${(s?["scripts",...n[0].slice(0,s)]:["scripts"]).join("/")}/`,m=r.filter(u=>!u.path.replace(h,"").includes("/")&&u.path.endsWith(".lua")),v=r.filter(u=>!u.path.replace(h,"").includes("/")&&u.path.endsWith(".js"));m.length===1?m[0].path="scripts/main.lua":v.length===1&&(v[0].path="scripts/main.js");for(const u of r){const b=u.path.replace(h,"scripts/");u.path=b,e.push(u)}}if(t.find(r=>r.path.startsWith("externals/"))){const r=t.filter(n=>n.path.startsWith("externals/"));t=t.filter(n=>!n.path.startsWith("externals/"));for(const n of r)e.push(n)}for(const r of["input.conf","mpv.conf"]){const n=t.findIndex(i=>i.path===r);if(n===-1)continue;const s=t.splice(n,1)[0];e.push(s)}if(t.find(r=>!r.path.includes("/")&&r.path.endsWith(".conf"))){const r=t.filter(n=>!n.path.includes("/")&&n.path.endsWith(".conf"));t=t.filter(n=>!(!n.path.includes("/")&&n.path.endsWith(".conf")));for(const n of r)n.path=`script-opts/${n.path}`,e.push(n)}if(t.find(r=>!r.path.includes("/")&&V(r.path))){const r=t.filter(n=>!n.path.includes("/")&&V(n.path));t=t.filter(n=>!(!n.path.includes("/")&&V(n.path)));for(const n of r)n.path=`fonts/${n.path}`,e.push(n)}if(!t.find(r=>r.path==="scripts/main.lua"||r.path==="scripts/main.js")){const r=t.filter(s=>!s.path.includes("/")&&s.path.endsWith(".lua")),n=t.filter(s=>!s.path.includes("/")&&s.path.endsWith(".js"));if(r.length===1){const s=t.indexOf(r[0]);t.splice(s,1),r[0].path="scripts/main.lua",e.push(r[0])}else if(n.length===1){const s=t.indexOf(n[0]);t.splice(s,1),n[0].path="scripts/main.js",e.push(n[0])}}t.filter(r=>r.path.endsWith(".js")||r.path.endsWith(".lua")).length&&console.log("tryfix maybe failed",o,t.map(r=>r.path).join(" "));for(const r of t)e.push(r);return e}var Ft=function(t){ht(t,[])},te=function(t){Ft(function(){t()})};const ut=t=>{let o;const e=new Set,c=(m,v)=>{const u=typeof m=="function"?m(o):m;if(!Object.is(u,o)){const b=o;o=v??(typeof u!="object"||u===null)?u:Object.assign({},o,u),e.forEach(d=>d(o,b))}},r=()=>o,i={setState:c,getState:r,getInitialState:()=>h,subscribe:m=>(e.add(m),()=>e.delete(m))},h=o=t(c,r,i);return i},ee=(t=>t?ut(t):ut),ne=t=>t;function oe(t,o=ne){const e=A.useSyncExternalStore(t.subscribe,A.useCallback(()=>o(t.getState()),[t,o]),A.useCallback(()=>o(t.getInitialState()),[t,o]));return A.useDebugValue(e),e}const re=t=>{const o=ee(t),e=c=>oe(o,c);return Object.assign(e,o),e},se=(t=>re);function dt(t,o){let e;try{e=t()}catch{return}return{getItem:r=>{var n;const s=h=>h===null?null:JSON.parse(h,void 0),i=(n=e.getItem(r))!=null?n:null;return i instanceof Promise?i.then(s):s(i)},setItem:(r,n)=>e.setItem(r,JSON.stringify(n,void 0)),removeItem:r=>e.removeItem(r)}}const et=t=>o=>{try{const e=t(o);return e instanceof Promise?e:{then(c){return et(c)(e)},catch(c){return this}}}catch(e){return{then(c){return this},catch(c){return et(c)(e)}}}},ae=(t,o)=>(e,c,r)=>{let n={storage:dt(()=>localStorage),partialize:g=>g,version:0,merge:(g,k)=>({...k,...g}),...o},s=!1;const i=new Set,h=new Set;let m=n.storage;if(!m)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),e(...g)},c,r);const v=()=>{const g=n.partialize({...c()});return m.setItem(n.name,{state:g,version:n.version})},u=r.setState;r.setState=(g,k)=>(u(g,k),v());const b=t((...g)=>(e(...g),v()),c,r);r.getInitialState=()=>b;let d;const $=()=>{var g,k;if(!m)return;s=!1,i.forEach(S=>{var L;return S((L=c())!=null?L:b)});const I=((k=n.onRehydrateStorage)==null?void 0:k.call(n,(g=c())!=null?g:b))||void 0;return et(m.getItem.bind(m))(n.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==n.version){if(n.migrate){const L=n.migrate(S.state,S.version);return L instanceof Promise?L.then(C=>[!0,C]):[!0,L]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,S.state];return[!1,void 0]}).then(S=>{var L;const[C,M]=S;if(d=n.merge(M,(L=c())!=null?L:b),e(d,!0),C)return v()}).then(()=>{I?.(d,void 0),d=c(),s=!0,h.forEach(S=>S(d))}).catch(S=>{I?.(void 0,S)})};return r.persist={setOptions:g=>{n={...n,...g},g.storage&&(m=g.storage)},clearStorage:()=>{m?.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>$(),hasHydrated:()=>s,onHydrate:g=>(i.add(g),()=>{i.delete(g)}),onFinishHydration:g=>(h.add(g),()=>{h.delete(g)})},n.skipHydration||$(),d||b},ie=ae,mt="https://cdn.jsdelivr.net";async function ce(t){const o=await fetch(t).then(e=>e.arrayBuffer());return new Uint8Array(o)}async function le(t){const o=fe(t);if(!o)return[];const e=/<a[^>]+href="([^"]+)"[^>]*>([^<]+)<\/a>/g,c=[];for(const r of Array.from(o.matchAll(e),([,n,s])=>{const i=n.endsWith("/");return{path:n.split("/").slice(4).join("/"),url:mt+n,name:s,isDir:i}}))r.isDir||(r.buffer=await ce(r.url)),r.name!=="..."&&c.push(r);return c}function fe(t){const o=/<table[^>]*>([\s\S]*?)<\/table>/i,e=t.match(o);return e?e[1].trim():null}async function gt(t,o,e){const c=await fetch(e).then(s=>s.text()),r=await le(c),n=[];for(const s of r)if(s.isDir){const i=e+s.path,h=await gt(t,o,i);for(const m of h)n.push(m)}else n.push(s);return n}function nt(t,o){const e=mt+`/gh/${t}/${o}/`;return gt(t,o,e)}const ue=["mpv","mpv-v3","mpv.net"],yt={data:{},tableData:[],spinning:!1,selectedRowKeys:[],externalList:[],ui:"osc",platform:"mpv-v3",repos:[]},D=[{name:"osc",repo:"https://github.com/mpv-player/mpv",deps:["autoload","thumbfast"],requires:[]},{name:"uosc",repo:"https://github.com/tomasklaen/uosc",deps:["thumbfast"],requires:["uosc"]},{name:"mpv-easy",repo:"https://github.com/mpv-easy/mpv-easy",deps:[],requires:["mpv-easy"]},{name:"modernx",repo:"https://github.com/cyl0/ModernX",deps:["thumbfast","autoload"],requires:["ModernX cyl0"]},{name:"modernz",repo:"https://github.com/Samillion/ModernZ",deps:["thumbfast","autoload"],requires:["ModernZ"]}],he=["ffmpeg","yt-dlp","play-with"];function q(t,o){const e=new Blob([new Uint8Array(o)],{type:"application/octet-stream"}),c=URL.createObjectURL(e),r=document.createElement("a"),n=t.split("/").at(-1)??t;r.download=n,r.href=c,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(c)}function pe(t,o,e,c){return`https://raw.githubusercontent.com/${t}/${o}/${e}/${c}`}function T(t){return pe("ahaoboy","mpv-easy-cdn","main",t)}function de(){return T("mpv-easy-play-with-windows.zip")}function me(){return T("yt-dlp.zip")}function ge(){return T("ffmpeg-windows.tar.xz")}function ye(){return T("ffmpeg-v3-windows.tar.xz")}async function _(t){return fetch(t).then(o=>o.arrayBuffer()).then(o=>new Uint8Array(o))}function vt(t){return T(`${t}.zip`)}async function ve(t){if(t.repo)return(await nt(t.repo.user,t.repo.repo)).filter(s=>!s.isDir).map(({path:s,buffer:i})=>new E(s,i,void 0,!1,null));const{download:o}=t;if(![".js",".lua",".zip"].some(n=>o.endsWith(n)))return console.log("not support script: ",t),[];const e=vt(t.name),c=await _(e);return R(z(e),c).filter(n=>!n.isDir)}async function we(t){let o=T("mpv-windows.tar.xz");t==="mpv.net"&&(o=T("mpv.net.tar.xz"));const e=await _(o);return R(z(o),e)||[]}const{defaultAlgorithm:be,darkAlgorithm:Se}=Ut,{Search:xe}=_t,{Title:$e,Link:Ie}=j,Le={getItem:t=>{const e=new URLSearchParams(location.hash.slice(1)).get(t)??"";return JSON.parse(e)},setItem:(t,o)=>{const e=new URLSearchParams(location.hash.slice(1));e.set(t,JSON.stringify(o)),location.hash=e.toString()},removeItem:t=>{const o=new URLSearchParams(location.hash.slice(1));o.delete(t),location.hash=o.toString()}},F=150,tt=150,je=250,ke=se()(ie((t,o)=>({...yt,setData:e=>t({...o(),data:e}),setTableData:e=>t({...o(),tableData:e}),setSpinning:e=>t({...o(),spinning:e}),setSelectedKeys:e=>t({...o(),selectedRowKeys:e}),setExternalList:e=>t({...o(),externalList:e}),setUI:e=>t({...o(),ui:e}),setPlatform:e=>t({...o(),platform:e}),setState:e=>{t({...o(),...e})},setRepos:e=>t({...o(),repos:e})}),{name:"mpv-build",storage:dt(()=>Le),version:void 0,partialize:t=>Object.fromEntries(Object.entries(t).filter(([o])=>!["data","tableData","spinning"].includes(o)))}));function We(){const t=ke(),o=Tt(null),{data:e,tableData:c,spinning:r,selectedRowKeys:n,externalList:s,ui:i,setData:h,setTableData:m,setSpinning:v,setUI:u,setSelectedKeys:b,setExternalList:d,platform:$,setPlatform:g,setState:k,repos:I,setRepos:S}=t,L=i==="mpv-easy"?"mpv-easy":`mpv-${i}`,[C,M]=Ct(window.matchMedia("(prefers-color-scheme: dark)").matches),J=D.find(a=>a.name===i)?.requires||[],[Pe,wt]=Dt.useNotification(),bt=()=>{k({...yt,data:e,tableData:c})},St=[...n,...D.find(a=>a.name===i)?.requires||[]],rt=async a=>{for(const l of St){const y=e[l];if(y.repo){const{user:w,repo:p}=y.repo,W=(await nt(w,p)).filter(Z=>!Z.isDir).map(({path:Z,buffer:Pt})=>new E(Z,Pt,void 0,!1,null)),U=ft(W,y),K=`${w}-${p}`;lt(a,U,e[K])}else{const w=await ve(e[l]),p=ft(w,y);lt(a,p,e[l])}}},xt=async()=>{const a=[];await rt(a);for(const y of a)y.path=y.path.replace("portable_config/","");const l=X(Y.Zip,a);if(!l){console.log("zip file error");return}return l},$t=async()=>{const a=await we($);if(s.includes("ffmpeg")){const y=$==="mpv-v3"?ye():ge(),w=await _(y),p=R(z(y),w);for(const x of p)a.push(x)}if(s.includes("yt-dlp")){const y=me(),w=await _(y),p=R(z(y),w);for(const x of p)a.push(x)}if(s.includes("play-with")){const y=de(),w=await _(y),p=R(z(y),w);for(const x of p)a.push(x)}await rt(a);const l=X(Y.Zip,a);if(!l){console.log("zip file error");return}return l},It=async()=>{v(!0),await new Promise(l=>setTimeout(l));const a=await $t();v(!1),a&&q(`${L}.zip`,a)},Lt=async()=>{v(!0),await new Promise(l=>setTimeout(l));const a=await xt();v(!1),a&&q("portable_config.zip",a)},st=async()=>{const a=T("scripts-full.json"),l=await fetch(a).then(p=>p.text()).then(p=>JSON.parse(p));for(const p in l)l[p].key=p;for(const{user:p,repo:x}of I){const W=`${p}-${x}`,U=`https://github.com/${p}/${x}`,K={key:W,name:W,download:W,author:p,description:U,homepage:U,repo:{user:p,repo:x}};l[W]=K}h(l);const y=n.map(p=>l[p]),w=Object.values(l).sort(()=>.5-Math.random()).filter(p=>!n.includes(p.name));m([...y,...w]),o.current=new Jt(Object.values(l),{keys:["name"]})};te(st),ht(()=>{st()},[I]);const jt=[{title:"name",dataIndex:"name",key:"key",render:(a,l)=>f(Ie,{href:l.homepage,target:"_blank",rel:"noreferrer",children:l.name}),width:je},{title:"description",dataIndex:"description",key:"key"},{title:"author",dataIndex:"author",key:"url"},{title:"download",dataIndex:"download",key:"url",render:(a,l)=>f(H,{icon:f(G,{}),onClick:async()=>{if(l.repo){const p=(await nt(l.repo.user,l.repo.repo)).filter(W=>!W.isDir).map(({path:W,buffer:U})=>new E(W,U,void 0,!1,null)),x=X(Y.Zip,p);x&&q(`${l.repo.repo}.zip`,x);return}const y=await _(vt(l.name));q(`${l.name}.zip`,y)}},l.download)}],kt=(a,l,y)=>{const w=Gt(a);if(w){b([...new Set([...n,`${w.user}-${w.repo}`])]),S([...new Set([...I,w])]);return}const p=o.current?.search(a);p?.length&&m(p.map(x=>x.item))};if(!Object.keys(e).length)return f(O,{className:"main",vertical:!0,gap:"middle",justify:"center",align:"center",children:f(j,{children:f($e,{level:3,children:"Loading..."})})});const at=Qt([...n,...D.find(a=>a.name===i)?.requires||[]]),Wt=pt[i]||[];return P(Rt,{theme:{algorithm:C?Se:be},children:[wt,P(O,{className:["main",C?"main-dark":"main-light"].join(" "),vertical:!0,gap:"middle",justify:"center",align:"center",children:[P(O,{gap:"middle",justify:"center",align:"center",style:{position:"absolute",top:"1rem",right:"1rem"},children:[f(j.Link,{href:"https://github.com/mpv-easy/mpv-easy",target:"_blank",children:f(At,{})}),f(j.Link,{href:"https://www.youtube.com/@mpveasy",target:"_blank",children:f(Bt,{})}),f(j.Link,{href:"https://x.com/mpv_easy",target:"_blank",children:f(Nt,{})}),C?f(j.Link,{onClick:()=>M(!1),children:f(Ht,{})}):f(j.Link,{onClick:()=>M(!0),children:f(qt,{})})]}),P(O,{gap:"middle",vertical:!0,align:"start",children:[P(O,{gap:"middle",justify:"center",align:"center",children:[f(j.Title,{level:5,style:{margin:0,width:F},children:f(it,{title:"mpv-v3 is for newer CPUs (usually after 2005). If it doesn't run, please use mpv",children:"Platform:"})}),f(B.Group,{value:$,onChange:a=>{g(a.target.value)},children:ue.map(a=>f(it,{placement:"topLeft",title:a==="mpv"?"Typically, you should use mpv-v3 unless it fails to run or you're using an older CPU (manufactured around 2015 or earlier).":"",children:f(B,{value:a,style:{width:tt},children:a},a)},a))})]}),P(O,{gap:"middle",justify:"center",align:"center",children:[f(j.Title,{level:5,style:{margin:0,width:F},children:"UI:"}),f(B.Group,{onChange:a=>{u(a.target.value);const l=D.find(y=>y.name===a.target.value)?.deps||[];b([...l])},value:i,children:D.map(a=>f(B,{value:a.name,style:{width:tt},children:f(j.Link,{href:a.repo,target:"_blank",children:a.name})},a.name))})]}),P(O,{gap:"middle",justify:"center",align:"center",children:[f(j.Title,{level:5,style:{margin:0,width:F},children:"External:"}),f(ct.Group,{value:s,onChange:a=>{d(a)},children:he.map(a=>f(ct,{value:a,style:{width:tt},children:a},a))})]})]}),f(xe,{placeholder:"input script name or https://github.com/<user>/<repo>",onSearch:kt,enterButton:!0}),f(zt,{rowSelection:{hideSelectAll:!0,type:"checkbox",onSelect:(a,l)=>{b(l?[...n,a.name]:[...n].filter(y=>y!==a.name))},getCheckboxProps:a=>({disabled:J.includes(a.name)||Wt.includes(a.name),name:a.name}),selectedRowKeys:[...n,...J]},className:"table",columns:jt,dataSource:c}),f(Et,{spinning:r,fullscreen:!0}),P(O,{children:[f(N,{color:"processing",children:$},$),J.map((a,l)=>e[a]&&f(N,{color:"success",children:e[a]?.name},e[a]?.key+l)),s.map(a=>f(N,{color:"success",children:a},a)),n.map((a,l)=>f(N,{closable:!0,color:"success",onClose:y=>{const w=n.indexOf(e[a]?.key);if(w!==-1){const p=[...n];p.splice(w,1),b(p)}y.preventDefault()},children:e[a]?.name},e[a]?.key+l))]}),P(O,{gap:"middle",children:[f(H,{color:"danger",size:"large",variant:"solid",onClick:bt,children:"Reset"}),P(H,{type:"primary",icon:f(G,{}),size:"large",onClick:It,children:[L,".zip"]}),f(H,{type:"primary",icon:f(G,{}),size:"large",onClick:Lt,children:"portable_config.zip"})]}),!!at.length&&f(Mt,{description:`conflict: ${at.join(" ")}`,type:"error"})]})]})}Ot(document.getElementById("root")).render(f(We,{}));
